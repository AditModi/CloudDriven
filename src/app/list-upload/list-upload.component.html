<div *ngIf="level>0" class="text-center">
    <div style="display:inline-block">
        <div class="arrow-container animated fadeInDown" *ngIf='showFile' (click)='showFiles(false)'>
            <div class="arrow-2">
                <i style="
            font-size: 40px;
            text-align: center;
            vertical-align: middle;
            margin-top:10px;
            color: #006064;" class="fa fa-angle-up"></i>
            </div>
            <div class="arrow-1 animated hinge infinite zoomIn"></div>

        </div>
    </div>
    <div class="arrow-container animated fadeInDown" *ngIf='!showFile' (click)='showFiles(true)'>
        <div class="arrow-2">
            <i style="
            font-size: 40px;
            text-align: center;
            vertical-align: middle;
            margin-top:10px;
            color: #006064;" class="fa fa-angle-down"></i>
        </div>
        <div class="arrow-1 animated hinge infinite zoomIn"></div>
    </div>

</div>
<div *ngIf="level==0" class="panel-heading">
    <b style="color:#13263a; font-size: 25px;text-shadow:2px 2px 2px #aaaaaa;">Root directory</b><br />
    <p style="color:#13263a;"><i>In this directory you can securely store your all files.</i></p>
    <button style="text-decoration: underline;cursor: pointer; " (click)="traverse(file)">{{ uname  }}</button>
</div>
<div *ngIf="level>0" [hidden]="!showFile">

    <div class="panel panel-primary">
        <div *ngIf="level>0" class="panel-heading">


            <button style="border: 0;background-color: white;" (click)="revTraverse()"><i class="back" style="width: 50px;height: 50px;margin-left:10px" class="fas fa-arrow-circle-left"></i></button>

            <input type="text" id="dname" class="form-control" [(ngModel)]="dname" placeholder="Enter directory name" /><br />
            <button (click)="createDirectory()" class="btn btn-primary">+ Create Directory</button>

            <br />

        </div>


        <div *ngFor="let file of fileUploads | async" style="display: inline-block;">
            <div *ngIf="file.name.endsWith('/') && (file.name.split('/')).length==level+2 && file.name.startsWith(parent) ">
                <!--First,third condition for directories-->
                <!--Second condition for immediate children-->
                <div class="dropdown">
                    <button class="folder context-menu-one" (dblclick)="traverse(file)" (click)="background()">
                  <img style="width: 40px;height: 45px;" src="../../assets/pictures/folder.png">
                  <br/>
                    {{file.name}}


                </button>
                    <div class="dropdown-content">
                        <button (click)="deleteDirectory(file.name)" style="width: 100%;">
                          <i class="fas fa-trash-alt"></i>&nbsp;&nbsp;
                          Delete
                    </button>

                        <button (click)="download(file.name)" style="width: 100%;">
                          <i class="fas fa-download"></i> &nbsp; Download</button>
                    </div>
                </div>

            </div>

        </div>
        <br />
        <div style="display: inline-block;margin-right: 20px;" *ngFor="let file of fileUploads | async">
            <app-details-upload [parent]="parent" [level]='level' [fileUpload]='file'></app-details-upload>

        </div>
    </div>
    <hr style="border-top:2px solid #0055ff;" />

</div>
