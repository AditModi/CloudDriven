<div *ngIf="level>0" class="text-center" style="margin-top:20px">
    <button class="button btn-info" style="width:150px;height:40px;font-size:15px;border-radius: 1rem;" *ngIf='showFile' (click)='showFiles(false)'>Hide Files</button>

    <button class="button btn-info " style="width:150px;height:40px;font-size:15px;border-radius: 1rem;" *ngIf='!showFile' (click)='showFiles(true)'>Show Files</button>
</div>
<div *ngIf="level==0" class="panel-heading">
    <b style="color:#004de6; font-size: 25px;text-shadow:2px 2px 2px #aaaaaa;">Root directory</b><br />
    <p style="color:#004de6;"><i>In this directory you can securely store your all files.</i></p>
    <button style="text-decoration: underline;cursor: pointer; " (click)="traverse(file)">{{ uname  }}</button>
</div>
<div *ngIf="level>0" [hidden]="!showFile">

    <div class="panel panel-primary">
        <div *ngIf="level>0" class="panel-heading">
            <br />
            <button class="button1 btn-info" style="width:120px;height:36px;font-size:15px;border-radius: 1rem;outline: none;margin-top:20px;margin-bottom:20px" (click)="revTraverse()">Back</button>


            <br />
            <h3 style="color: #004de6;text-shadow:2px 2px 2px #aaaaaa; ;">List of Files & directories</h3>
        </div>

        <h5 style="color:#004de6">Directories:</h5><br />

        <div *ngFor="let file of fileUploads | async">
            <div *ngIf="file.name.endsWith('/') && (file.name.split('/')).length==level+2 && file.name.startsWith(parent) ">
                <!--First,third condition for directories-->
                <!--Second condition for immediate children-->
                <button style="text-decoration: underline;cursor: pointer;" (click)="traverse(file)">
                    {{file.name}}


                </button>
                <button (click)="deleteDirectory(file.name)" style="margin-left: 5px;">
                    <i class="far fa-trash-alt"></i>
                </button>

            </div>

        </div>
        <br />
        <hr style="border-top:2px solid #0055ff;" />
        <h5 style="color:#004de6">Files:</h5><br />
        <div style="display: inline-block;margin-right: 20px;" *ngFor="let file of fileUploads | async">
            <app-details-upload [parent]="parent" [level]='level' [fileUpload]='file'></app-details-upload>

        </div>
    </div>
    <hr style="border-top:2px solid #0055ff;" />
    <input type="text" id="dname" class="form-control" [(ngModel)]="dname" placeholder="Enter directory name" /><br />
    <button (click)="createDirectory()" class="btn btn-primary">+ Create Directory</button>
</div>
